<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
        <title>記事一覧 on もざぶれなるままに</title>
        <link>https://mitz17.com/blog/</link>
        <description>Recent content in 記事一覧 on もざぶれなるままに</description>
        <generator>Hugo -- gohugo.io</generator>
        <language>ja-jp</language>
        <lastBuildDate>Mon, 02 Mar 2026 12:00:00 +0900</lastBuildDate><atom:link href="https://mitz17.com/blog/index.xml" rel="self" type="application/rss+xml" /><item>
            <title>Cloudflare Email Routingで独自ドメインのメールを受信する</title>
            <link>https://mitz17.com/blog/receive-email/</link>
            <pubDate>Mon, 02 Mar 2026 12:00:00 +0900</pubDate>
            <guid>https://mitz17.com/blog/receive-email/</guid>
            <description>&lt;h2 id=&#34;この記事でやること&#34;&gt;この記事でやること&#xD;&#xA;&lt;/h2&gt;&lt;p&gt;独自ドメイン &lt;code&gt;mitz17.com&lt;/code&gt; で メールアドレスを作り、Cloudflare Email Routing を使って Gmail へ無料で転送。サーバー構築なし、ほぼノーコードで完結した。&lt;/p&gt;&#xA;&lt;h2 id=&#34;参考にした資料&#34;&gt;参考にした資料&#xD;&#xA;&lt;/h2&gt;&lt;ul&gt;&#xA;&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://note.com/yetanother_yk/n/ncdbb530e1cc5&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;&#xD;&#xA;    &gt;CloudflareのEmail Routingでカスタムドメイン宛メールを受信する手順&lt;/a&gt;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h2 id=&#34;操作1-cloudflare-でドメインの管理画面を表示&#34;&gt;操作1: Cloudflare でドメインの管理画面を表示&#xD;&#xA;&lt;/h2&gt;&lt;h3 id=&#34;手順&#34;&gt;手順&#xD;&#xA;&lt;/h3&gt;&lt;ol&gt;&#xA;&lt;li&gt;Cloudflare にログイン。&lt;/li&gt;&#xA;&lt;li&gt;対象ドメイン（今回は &lt;code&gt;mitz17.com&lt;/code&gt;）を選択。&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://mitz17.com/blog/receive-email/domain-dashboard.png&#34;&#xD;&#xA;&#x9;width=&#34;688&#34;&#xD;&#xA;&#x9;height=&#34;631&#34;&#xD;&#xA;&#x9;loading=&#34;lazy&#34;&#xD;&#xA;&#x9;&#xD;&#xA;&#x9;&#x9;alt=&#34;ドメインのダッシュボード&#34;&#xD;&#xA;&#x9;&#xD;&#xA;    &#xD;&#xA;        title=&#34;Cloudflare でドメインの管理画面&#34;&#xD;&#xA;        data-title-escaped=&#34;Cloudflare でドメインの管理画面&#34;&#xD;&#xA;    &#xD;&#xA;&#x9;&#xD;&#xA;&#x9;&#x9;class=&#34;gallery-image&#34; &#xD;&#xA;&#x9;&#x9;data-flex-grow=&#34;109&#34;&#xD;&#xA;&#x9;&#x9;data-flex-basis=&#34;261px&#34;&#xD;&#xA;&#x9;&#xD;&#xA;&gt;&lt;/p&gt;&#xA;&lt;h2 id=&#34;操作2-開始ボタンを押す&#34;&gt;操作2: 開始ボタンを押す&#xD;&#xA;&lt;/h2&gt;&lt;h3 id=&#34;手順-1&#34;&gt;手順&#xD;&#xA;&lt;/h3&gt;&lt;ol&gt;&#xA;&lt;li&gt;左メニューの「メールアドレス」→「Email Routing」を開く。&lt;/li&gt;&#xA;&lt;li&gt;「開始」をクリック。&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://mitz17.com/blog/receive-email/email-routing-rule.png&#34;&#xD;&#xA;&#x9;width=&#34;689&#34;&#xD;&#xA;&#x9;height=&#34;632&#34;&#xD;&#xA;&#x9;loading=&#34;lazy&#34;&#xD;&#xA;&#x9;&#xD;&#xA;&#x9;&#x9;alt=&#34;転送ルールの設定&#34;&#xD;&#xA;&#x9;&#xD;&#xA;    &#xD;&#xA;&#x9;&#xD;&#xA;&#x9;&#x9;class=&#34;gallery-image&#34; &#xD;&#xA;&#x9;&#x9;data-flex-grow=&#34;109&#34;&#xD;&#xA;&#x9;&#x9;data-flex-basis=&#34;261px&#34;&#xD;&#xA;&#x9;&#xD;&#xA;&gt;&lt;/p&gt;&#xA;&lt;h2 id=&#34;操作3-アドレスの設定&#34;&gt;操作3: アドレスの設定&#xD;&#xA;&lt;/h2&gt;&lt;h3 id=&#34;手順-2&#34;&gt;手順&#xD;&#xA;&lt;/h3&gt;&lt;ol&gt;&#xA;&lt;li&gt;「カスタムアドレス」に好きなメールアドレスを入力&lt;br&gt;&#xA;（例: &lt;code&gt;mitz17@mitz17.com&lt;/code&gt;）&lt;/li&gt;&#xA;&lt;li&gt;「宛先」に転送したい Gmail アドレスを入力&lt;/li&gt;&#xA;&lt;li&gt;「作成して続行」をクリック&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;p&gt;すると Gmail に確認メールが届く。&lt;/p&gt;&#xA;&lt;p&gt;メール内の &lt;strong&gt;&amp;ldquo;Verify email address&amp;rdquo;&lt;/strong&gt; をクリックすれば認証完了。&lt;/p&gt;&#xA;&lt;p&gt;だいたい数分待てば設定が反映される。&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://mitz17.com/blog/receive-email/email-routing-setup.png&#34;&#xD;&#xA;&#x9;width=&#34;778&#34;&#xD;&#xA;&#x9;height=&#34;720&#34;&#xD;&#xA;&#x9;loading=&#34;lazy&#34;&#xD;&#xA;&#x9;&#xD;&#xA;&#x9;&#x9;alt=&#34;Email Routing のセットアップウィザード&#34;&#xD;&#xA;&#x9;&#xD;&#xA;    &#xD;&#xA;&#x9;&#xD;&#xA;&#x9;&#x9;class=&#34;gallery-image&#34; &#xD;&#xA;&#x9;&#x9;data-flex-grow=&#34;108&#34;&#xD;&#xA;&#x9;&#x9;data-flex-basis=&#34;259px&#34;&#xD;&#xA;&#x9;&#xD;&#xA;&gt;&lt;/p&gt;&#xA;&lt;h2 id=&#34;操作4-受信テスト&#34;&gt;操作4: 受信テスト&#xD;&#xA;&lt;/h2&gt;&lt;h3 id=&#34;手順-3&#34;&gt;手順&#xD;&#xA;&lt;/h3&gt;&lt;p&gt;外部アドレスからテストメールを送る。&lt;/p&gt;&#xA;&lt;p&gt;Gmailに届けば成功。&lt;/p&gt;&#xA;&lt;p&gt;届かない場合は：&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;MXレコードが間違っている&lt;/li&gt;&#xA;&lt;li&gt;まだDNSが反映されていない&lt;/li&gt;&#xA;&lt;li&gt;認証が終わっていない&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;このあたりをチェック。&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://mitz17.com/blog/receive-email/routing-checklist.png&#34;&#xD;&#xA;&#x9;width=&#34;1120&#34;&#xD;&#xA;&#x9;height=&#34;428&#34;&#xD;&#xA;&#x9;loading=&#34;lazy&#34;&#xD;&#xA;&#x9;&#xD;&#xA;&#x9;&#x9;alt=&#34;最終チェックリスト&#34;&#xD;&#xA;&#x9;&#xD;&#xA;    &#xD;&#xA;        title=&#34;届いたぜ！&#34;&#xD;&#xA;        data-title-escaped=&#34;届いたぜ！&#34;&#xD;&#xA;    &#xD;&#xA;&#x9;&#xD;&#xA;&#x9;&#x9;class=&#34;gallery-image&#34; &#xD;&#xA;&#x9;&#x9;data-flex-grow=&#34;261&#34;&#xD;&#xA;&#x9;&#x9;data-flex-basis=&#34;628px&#34;&#xD;&#xA;&#x9;&#xD;&#xA;&gt;&lt;/p&gt;&#xA;&lt;h2 id=&#34;まとめ&#34;&gt;まとめ&#xD;&#xA;&lt;/h2&gt;&lt;p&gt;Cloudflare Email Routing と Gmail で自分のドメインのメールを受け取れるようになりました。&lt;/p&gt;&#xA;&lt;p&gt;受信は簡単。&lt;/p&gt;&#xA;&lt;p&gt;問題は「送信側」。(らしい)&lt;/p&gt;&#xA;&lt;p&gt;SendGrid の無料プランがサ終したそうなので、&lt;br&gt;&#xA;Mailgun か AWS SES あたりを検討中。&lt;/p&gt;&#xA;&lt;p&gt;次は送信環境を作る。&lt;/p&gt;&#xA;</description>
        </item><item>
            <title>mp3-normalizer 開発ログ</title>
            <link>https://mitz17.com/blog/mp3-normalizer-devlog/</link>
            <pubDate>Mon, 02 Mar 2026 00:00:00 +0900</pubDate>
            <guid>https://mitz17.com/blog/mp3-normalizer-devlog/</guid>
            <description>&lt;p&gt;GitHub: &lt;a class=&#34;link&#34; href=&#34;https://github.com/mitz17/mp3-normalizer&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;&#xD;&#xA;    &gt;mitz17/mp3-normalizer&lt;/a&gt;&lt;/p&gt;&#xA;&lt;h2 id=&#34;背景&#34;&gt;背景&#xD;&#xA;&lt;/h2&gt;&lt;p&gt;10 年くらい前に作った mp3 をふと再生したら「え、なんか音ちいさくない？」となりました。コピペの荒波に飲まれてビットレートが劣化したのかと疑ったものの、音質自体は悪くなっていない。つまりファイルそのものはまだ元気だけれど、音声レベルが不揃いなままだと今後も安心して使えない──そう実感したのがこのツールを作るきっかけでした。&lt;/p&gt;&#xA;&lt;h2 id=&#34;対象読者&#34;&gt;対象読者&#xD;&#xA;&lt;/h2&gt;&lt;ul&gt;&#xA;&lt;li&gt;古い mp3 アーカイブを今も大切にしていて、音量だけさっと手直ししたい人&lt;/li&gt;&#xA;&lt;li&gt;&lt;code&gt;ffmpeg&lt;/code&gt; の呪文を暗記していないけど、まとめて正規化したい人&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h2 id=&#34;前提python-と-mp3&#34;&gt;前提（Python と mp3）&#xD;&#xA;&lt;/h2&gt;&lt;ul&gt;&#xA;&lt;li&gt;Python 3.11 以上 + ffmpeg 6.x が動作する環境が存在していること。ffmpeg の導入は &lt;a class=&#34;link&#34; href=&#34;https://qiita.com/Tadataka_Takahashi/items/9dcb0cf308db6f5dc31b&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;&#xD;&#xA;    &gt;この Qiita 記事&lt;/a&gt; を参考にして OS ごとの手順を順番にたどれば OK。&lt;/li&gt;&#xA;&lt;li&gt;正規化したい &lt;code&gt;.mp3&lt;/code&gt; をフォルダごと用意しておき、WAV などは事前に変換しておく。&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h2 id=&#34;ffmpeg-とは&#34;&gt;ffmpeg とは？&#xD;&#xA;&lt;/h2&gt;&lt;p&gt;映像・音声を扱う OSS の名作で、CLI から形式変換やトリミング、ノーマライズを一気に処理できます。&lt;code&gt;mp3-normalizer&lt;/code&gt; では ffmpeg の &lt;code&gt;loudnorm&lt;/code&gt; フィルタを呼び出して LUFS を調整していますが、コマンド一発で WAV/MP3/MP4 などほぼすべてのメディアを扱える万能ツールです。GUI から触るときも裏側ではこのコマンドが動いており、パラメータを変えれば True Peak の上限やターゲット LUFS を柔軟に切り替えられます。&lt;/p&gt;&#xA;&lt;h2 id=&#34;環境&#34;&gt;環境&#xD;&#xA;&lt;/h2&gt;&lt;ul&gt;&#xA;&lt;li&gt;OS: Windows 11（PowerShell）で動作確認済み&lt;/li&gt;&#xA;&lt;li&gt;Python: 3.11.7（&lt;code&gt;python -m venv .venv&lt;/code&gt; 推奨）&lt;/li&gt;&#xA;&lt;li&gt;ffmpeg: 6.1 系（&lt;code&gt;ffmpeg -version&lt;/code&gt; で確認）&lt;/li&gt;&#xA;&lt;li&gt;GUI: Tkinter + ttk を素朴に使用&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h2 id=&#34;ゴール&#34;&gt;ゴール&#xD;&#xA;&lt;/h2&gt;&lt;ul&gt;&#xA;&lt;li&gt;OS を問わず、誰でも同じ LUFS 正規化フローを踏める&lt;/li&gt;&#xA;&lt;li&gt;GUI でも CLI でも結果が揃い、履歴とログで説明責任を果たせる&lt;/li&gt;&#xA;&lt;li&gt;「入力フォルダを置き換えたら音が揃う」を日常運用に落とし込む&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h2 id=&#34;プロジェクトの概要&#34;&gt;プロジェクトの概要&#xD;&#xA;&lt;/h2&gt;&lt;ul&gt;&#xA;&lt;li&gt;Python 3.11 + ffmpeg 6.x の軽量構成&lt;/li&gt;&#xA;&lt;li&gt;GUI/CLI 共通のエンジン (&lt;code&gt;processor.py&lt;/code&gt;) と再利用しやすいユーティリティ (&lt;code&gt;utils.py&lt;/code&gt;)&lt;/li&gt;&#xA;&lt;li&gt;&lt;code&gt;processed_history.json&lt;/code&gt; で二重実行を抑止し、&lt;code&gt;mp3_normalizer.log&lt;/code&gt; で証跡を残す&lt;/li&gt;&#xA;&lt;li&gt;&lt;code&gt;loudnorm&lt;/code&gt; 1pass を使い、-14 LUFS / -1 dBFS をデフォルトターゲットに設定&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h2 id=&#34;どんな課題を解いているのか&#34;&gt;どんな課題を解いているのか&#xD;&#xA;&lt;/h2&gt;&lt;ul&gt;&#xA;&lt;li&gt;古いファイルでも音質は十分なので、音量だけ揃えればまだまだ使える&lt;/li&gt;&#xA;&lt;li&gt;&lt;code&gt;ffmpeg&lt;/code&gt; のコマンドを忘れても GUI のプルダウンで完結する&lt;/li&gt;&#xA;&lt;li&gt;いつどのファイルを処理したかがログで追えるので、再録や差し戻しが怖くない&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h2 id=&#34;セットアップの流れ&#34;&gt;セットアップの流れ&#xD;&#xA;&lt;/h2&gt;&lt;ol&gt;&#xA;&lt;li&gt;&lt;code&gt;git clone https://github.com/mitz17/mp3-normalizer&lt;/code&gt; でソースを取得&lt;/li&gt;&#xA;&lt;li&gt;&lt;code&gt;python -m venv .venv &amp;amp;&amp;amp; source .venv/bin/activate&lt;/code&gt;（Windows は &lt;code&gt;Activate.ps1&lt;/code&gt;）&lt;/li&gt;&#xA;&lt;li&gt;&lt;code&gt;pip install -r requirements.txt&lt;/code&gt; で依存をインストール&lt;/li&gt;&#xA;&lt;li&gt;&lt;code&gt;python main.py&lt;/code&gt; で GUI、&lt;code&gt;python main.py --cli ...&lt;/code&gt; でバッチ処理を実行&lt;/li&gt;&#xA;&lt;li&gt;出力ディレクトリに並んだ MP3 を聴き比べ、ログファイルで値を確認&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;h2 id=&#34;アーキテクチャと実装メモ&#34;&gt;アーキテクチャと実装メモ&#xD;&#xA;&lt;/h2&gt;&lt;ul&gt;&#xA;&lt;li&gt;&lt;code&gt;gui.py&lt;/code&gt; は Tkinter の &lt;code&gt;Frame&lt;/code&gt; を積み上げ、別スレッドで ffmpeg を呼び出し UI フリーズを回避&lt;/li&gt;&#xA;&lt;li&gt;&lt;code&gt;processor.py&lt;/code&gt; は &lt;code&gt;Path.rglob(&#39;*.mp3&#39;)&lt;/code&gt; で対象を探し、衝突しそうなファイルは &lt;code&gt;_1&lt;/code&gt;, &lt;code&gt;_2&lt;/code&gt; とサフィックスを付加&lt;/li&gt;&#xA;&lt;li&gt;&lt;code&gt;-map_metadata 0&lt;/code&gt; で ID3 タグを保ったまま再エンコード&lt;/li&gt;&#xA;&lt;li&gt;ログはプレーンテキストに連ね、LUFS 値や実行コマンドを丸ごと保存&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h2 id=&#34;コードのざっくり解説&#34;&gt;コードのざっくり解説&#xD;&#xA;&lt;/h2&gt;&lt;p&gt;&lt;code&gt;processor.py&lt;/code&gt; の &lt;code&gt;AudioProcessor.process_directory&lt;/code&gt; では、入力ディレクトリを走査して計画を立て、重複チェックと安全な出力名の生成を行っています（&lt;a class=&#34;link&#34; href=&#34;https://github.com/mitz17/mp3-normalizer/blob/main/processor.py#L180-L232&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;&#xD;&#xA;    &gt;GitHub の該当コード&lt;/a&gt; から抜粋）。&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; index, entry &lt;span style=&#34;color:#f92672&#34;&gt;in&lt;/span&gt; enumerate(plan&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;entries, start&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;):&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    destination &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; output_dir &lt;span style=&#34;color:#f92672&#34;&gt;/&lt;/span&gt; entry&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;relative&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    ensure_directory(destination&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;parent)&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    destination &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; destination&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;with_suffix(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;.mp3&amp;#34;&lt;/span&gt;)&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    destination &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; generate_unique_output_path(destination)&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;...&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    result &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; self&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;executor&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;normalize(&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        input_file&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;entry&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;source,&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        destination&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;destination,&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        target_lufs&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;target_lufs,&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        true_peak&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;true_peak,&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    )&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    results&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;append(result)&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; result&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;success:&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        self&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;history_service&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;mark_processed(entry&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;relative, entry&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;size, entry&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;mtime)&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;self&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;history_service&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;save()&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;このループで &lt;code&gt;generate_unique_output_path&lt;/code&gt; が既存ファイルを検知すると &lt;code&gt;_1&lt;/code&gt;, &lt;code&gt;_2&lt;/code&gt; …を末尾に付与するので、デフォルト (&lt;code&gt;force=False&lt;/code&gt;) では上書きされません。さらに &lt;code&gt;HistoryService&lt;/code&gt; が &lt;code&gt;processed_history.json&lt;/code&gt; にサイズ・更新日時を記録し、同じファイルを再度見つけてもスキップします。まさに「上書きしない設定なので安心」という設計です。&lt;/p&gt;&#xA;&lt;p&gt;実際に ffmpeg を叩くのは &lt;code&gt;FfmpegExecutor.normalize&lt;/code&gt; で、コマンド全体を整形してログに残します（&lt;a class=&#34;link&#34; href=&#34;https://github.com/mitz17/mp3-normalizer/blob/main/processor.py#L63-L111&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;&#xD;&#xA;    &gt;コードはこちら&lt;/a&gt;）。&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;command &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; [&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    self&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;ffmpeg_cmd, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;-hide_banner&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;-y&amp;#34;&lt;/span&gt;,&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;-i&amp;#34;&lt;/span&gt;, str(input_file),&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;-af&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;f&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;loudnorm=I=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;{&lt;/span&gt;target_lufs&lt;span style=&#34;color:#e6db74&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;:TP=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;{&lt;/span&gt;true_peak&lt;span style=&#34;color:#e6db74&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;:LRA=11&amp;#34;&lt;/span&gt;,&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;-c:a&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;libmp3lame&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;-q:a&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;2&amp;#34;&lt;/span&gt;,&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;-map_metadata&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;0&amp;#34;&lt;/span&gt;,&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    str(destination),&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;]&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;command_str &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; format_command(command)&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;self&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;logger&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;info(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;ffmpeg コマンド: &lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;%s&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;, command_str)&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;completed &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; subprocess&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;run(command, check&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;False&lt;/span&gt;, capture_output&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;True&lt;/span&gt;, text&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;True&lt;/span&gt;)&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code&gt;subprocess.run&lt;/code&gt; の戻り値で成功/失敗を判断しており、GUI のログ欄にも同じコマンド文字列が流れるため、裏で何をしているかが一目で分かります。&lt;/p&gt;&#xA;&lt;h2 id=&#34;gui-の操作感&#34;&gt;GUI の操作感&#xD;&#xA;&lt;/h2&gt;&lt;ol&gt;&#xA;&lt;li&gt;入力・出力ディレクトリを指定すると、対象 MP3 がリストでずらっと表示されます。&lt;/li&gt;&#xA;&lt;li&gt;LUFS と True Peak を入力。迷ったらデフォルト（-14 / -1）のままで OK。&lt;/li&gt;&#xA;&lt;li&gt;再帰チェックや再エンコード強制のトグルで挙動を調整。&lt;/li&gt;&#xA;&lt;li&gt;「実行」を押すと進捗ログが流れ、完了すると結果をスクロールなしで確認できます。&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://mitz17.com/images/mp3-normalizer-gui.png&#34; alt=&#34;mp3-normalizer GUI モックアップ&#34; loading=&#34;lazy&#34; style=&#34;border-radius:16px; box-shadow:0 8px 24px rgba(15,23,42,0.18);&#34;&gt;&lt;/p&gt;&#xD;&#xA;&#xD;&#xA;    &lt;blockquote&gt;&#xD;&#xA;        &lt;p&gt;GUI 全体をざっくり再現したモック。入力/出力、ターゲット LUFS、対象ファイル、ログまで 1 画面で見渡せます。&lt;/p&gt;&#xA;&#xD;&#xA;    &lt;/blockquote&gt;&#xD;&#xA;&lt;h2 id=&#34;まとめ&#34;&gt;まとめ&#xD;&#xA;&lt;/h2&gt;&lt;ul&gt;&#xA;&lt;li&gt;Tkinter × ffmpeg という素朴な構成でも、音量正規化の面倒くささはかなり解消できる&lt;/li&gt;&#xA;&lt;li&gt;古い mp3 をまだまだ使いたい人は、ぜひ &lt;code&gt;mp3-normalizer&lt;/code&gt; をクローンして遊んでみてください！&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;</description>
        </item><item>
            <title>ブログ初投稿のテスト</title>
            <link>https://mitz17.com/blog/my-first-post/</link>
            <pubDate>Sun, 01 Mar 2026 11:17:14 +0900</pubDate>
            <guid>https://mitz17.com/blog/my-first-post/</guid>
            <description>&lt;h2 id=&#34;意気込み&#34;&gt;意気込み&#xD;&#xA;&lt;/h2&gt;&lt;p&gt;はじめまして、mitz17です。&#xA;ブログ、ハジメマシタ。&lt;/p&gt;&#xA;&lt;p&gt;日々をちょっとだけ豊かにするためのプログラム開発とか、&#xA;思いついたライフハックとか、&#xA;作ってみたものの記録とか。&lt;/p&gt;&#xA;&lt;p&gt;そんな感じのことを、備忘録がてらゆるっと書いていきます。&lt;/p&gt;&#xA;&lt;h2 id=&#34;始めようと思ったきっかけ&#34;&gt;始めようと思ったきっかけ&#xD;&#xA;&lt;/h2&gt;&lt;p&gt;「自分のドメインを持つ」って、なんかちょっとカッコよくないですか？&lt;/p&gt;&#xA;&lt;p&gt;そんなノリで勢いよく取得しました。&#xA;で、取ったはいいものの、特に壮大なビジョンがあったわけでもなく。&lt;/p&gt;&#xA;&lt;p&gt;でも、ドメインって維持費かかるんですよね。&lt;/p&gt;&#xA;&lt;p&gt;私は毎月・毎年じわじわ削られていく固定費が死ぬほど苦手です。&lt;/p&gt;&#xA;&lt;p&gt;だったら――&lt;br&gt;&#xA;ブログの広告で維持費くらい回収できればよくない？&lt;/p&gt;&#xA;&lt;p&gt;途中で飽きる可能性はあります。&#xA;でも、それも含めてログとして残っていたら面白いかなと思っています。&lt;/p&gt;&#xA;&lt;h2 id=&#34;目標&#34;&gt;目標&#xD;&#xA;&lt;/h2&gt;&lt;p&gt;このブログの広告収益で、ドメインの維持費をまかなうこと。&lt;/p&gt;&#xA;&lt;p&gt;これが最初の10歩。&lt;/p&gt;&#xA;</description>
        </item></channel>
</rss>
